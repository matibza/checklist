<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checklist de Seguridad para Autoelevadores</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1, h2 {
            color: #2c3e50;
            text-align: center;
        }
        .header {
            background-color: #3498db;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .form-container {
            background-color: white;
            padding: 4px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .form-group {
            margin-bottom: 15px;
            padding: 10px;
            border-bottom: 1px solid #eee;
        }
        .form-group:last-child {
            border-bottom: none;
        }
        .check-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }
        .check-item input[type="checkbox"] {
            margin-right: 10px;
        }
        .check-item label {
            flex-grow: 1;
        }
        .section {
            margin-bottom: 25px;
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 5px;
        }
        .section-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #2980b9;
        }
        .form-footer {
            margin-top: 20px;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #2980b9;
        }
        .operator-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        .operator-info div {
            display: flex;
            flex-direction: column;
        }
        input, select {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        .operador {
            width: 80%;
        }
        .es {
            margin-left: -15%;
         }   
        .observations {
            width: 100%;
            min-height: 100px;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .status-badge {
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }
        .status-ok {
            background-color: #2ecc71;
            color: white;
        }
        .status-fail {
            background-color: #e74c3c;
            color: white;
        }
        .signature-pad {
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-top: 10px;
            background-color: white;
        }
        .signature-clear {
            margin-top: 5px;
            background-color: #e74c3c;
            padding: 5px 10px;
        }
        .print-only {
            display: none;
        }
        @media print {
            .no-print {
                display: none;
            }
            .print-only {
                display: block;
            }
            body {
                background-color: white;
                padding: 0;
            }
            .form-container {
                box-shadow: none;
                padding: 0;
            }
            button {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Checklist de Seguridad para Autoelevadores</h1>
        <p>Complete esta lista de verificación antes de operar el equipo</p>
    </div>

    <div class="form-container">
        <div class="operator-info">
            <div class="operador">
                <label for="operator-name">Nombre del Operador:</label>
                <input type="text" id="operator-name" required>
            </div>
            <div>
                
            </div>
            <div class="operador">
                <label for="date">Fecha:</label>
                <input type="date" id="date" required>
            </div>
            <div class="operador es">
                <label for="shift">Turno:</label>
                <select id="shift" required>
                    <option value="">Seleccione...</option>
                    <option value="morning">Mañana</option>
                    <option value="afternoon">Tarde</option>
                    <option value="night">Noche</option>
                </select>
            </div>
            <div class="operador">
                <label for="equipment-id">Número de Equipo:</label>
                <input type="text" id="equipment-id" required>
            </div>
            <div class="operador es">
                <label for="hours">Horómetro:</label>
                <input type="number" id="hours" required>
            </div>
        </div>

        <div class="section">
            <div class="section-title">1. Inspección General</div>
            <div class="form-group">
                <div class="check-item">
                    <input type="checkbox" id="general-1" class="check-ok">
                    <label for="general-1">Estado general del autoelevador (limpio, sin daños visibles)</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
                <div class="check-item">
                    <input type="checkbox" id="general-2" class="check-ok">
                    <label for="general-2">Niveles de combustible/energía adecuados</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
                <div class="check-item">
                    <input type="checkbox" id="general-3" class="check-ok">
                    <label for="general-3">Presión de neumáticos adecuada (si aplica)</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
                <div class="check-item">
                    <input type="checkbox" id="general-4" class="check-ok">
                    <label for="general-4">Estado de las cadenas (si aplica)</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">2. Sistema Hidráulico</div>
            <div class="form-group">
                <div class="check-item">
                    <input type="checkbox" id="hydraulic-1" class="check-ok">
                    <label for="hydraulic-1">Nivel de aceite hidráulico adecuado</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
                <div class="check-item">
                    <input type="checkbox" id="hydraulic-2" class="check-ok">
                    <label for="hydraulic-2">Fugas visibles en el sistema hidráulico</label>
                    <span class="status-badge status-fail">FALLA</span>
                </div>
                <div class="check-item">
                    <input type="checkbox" id="hydraulic-3" class="check-ok">
                    <label for="hydraulic-3">Funcionamiento suave del sistema de elevación</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
                <div class="check-item">
                    <input type="checkbox" id="hydraulic-4" class="check-ok">
                    <label for="hydraulic-4">Funcionamiento suave del sistema de inclinación</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">3. Frenos y Dirección</div>
            <div class="form-group">
                <div class="check-item">
                    <input type="checkbox" id="brakes-1" class="check-ok">
                    <label for="brakes-1">Frenos funcionando correctamente</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
                <div class="check-item">
                    <input type="checkbox" id="brakes-2" class="check-ok">
                    <label for="brakes-2">Freno de estacionamiento funciona correctamente</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
                <div class="check-item">
                    <input type="checkbox" id="brakes-3" class="check-ok">
                    <label for="brakes-3">Dirección funciona suavemente</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">4. Seguridad Operacional</div>
            <div class="form-group">
                <div class="check-item">
                    <input type="checkbox" id="safety-1" class="check-ok">
                    <label for="safety-1">Alarma de reversa funciona correctamente</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
                <div class="check-item">
                    <input type="checkbox" id="safety-2" class="check-ok">
                    <label for="safety-2">Luces funcionando (frontal, posterior, intermitentes)</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
                <div class="check-item">
                    <input type="checkbox" id="safety-3" class="check-ok">
                    <label for="safety-3">Claxon funciona correctamente</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
                <div class="check-item">
                    <input type="checkbox" id="safety-4" class="check-ok">
                    <label for="safety-4">Espejos ajustados y en buen estado</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
                <div class="check-item">
                    <input type="checkbox" id="safety-5" class="check-ok">
                    <label for="safety-5">Extintor presente y con carga</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
                <div class="check-item">
                    <input type="checkbox" id="safety-6" class="check-ok">
                    <label for="safety-6">Cinturón de seguridad funcionando</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">5. Horquillas y Accesorios</div>
            <div class="form-group">
                <div class="check-item">
                    <input type="checkbox" id="forks-1" class="check-ok">
                    <label for="forks-1">Horquillas sin deformaciones o grietas</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
                <div class="check-item">
                    <input type="checkbox" id="forks-2" class="check-ok">
                    <label for="forks-2">Soportes de horquillas en buen estado</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
                <div class="check-item">
                    <input type="checkbox" id="forks-3" class="check-ok">
                    <label for="forks-3">Accesorios instalados correctamente (si aplica)</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">6. Motor y Sistema Eléctrico</div>
            <div class="form-group">
                <div class="check-item">
                    <input type="checkbox" id="engine-1" class="check-ok">
                    <label for="engine-1">Nivel de aceite del motor adecuado</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
                <div class="check-item">
                    <input type="checkbox" id="engine-2" class="check-ok">
                    <label for="engine-2">Nivel de refrigerante adecuado</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
                <div class="check-item">
                    <input type="checkbox" id="engine-3" class="check-ok">
                    <label for="engine-3">Fugas de aceite o refrigerante</label>
                    <span class="status-badge status-fail">FALLA</span>
                </div>
                <div class="check-item">
                    <input type="checkbox" id="engine-4" class="check-ok">
                    <label for="engine-4">Conexiones eléctricas en buen estado</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
                <div class="check-item">
                    <input type="checkbox" id="engine-5" class="check-ok">
                    <label for="engine-5">Batería cargada y conexiones limpias (si aplica)</label>
                    <span class="status-badge status-ok">OK</span>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">Observaciones</div>
            <textarea id="observations" class="observations" placeholder="Anote aquí cualquier observación sobre el estado del autoelevador..."></textarea>
        </div>

        <div class="section">
            <div class="section-title">Estado Final del Equipo</div>
            <div class="form-group">
                <div class="check-item">
                    <input type="radio" id="status-ok" name="final-status" value="ok" required>
                    <label for="status-ok">Aprobado para operar</label>
                </div>
                <div class="check-item">
                    <input type="radio" id="status-fail" name="final-status" value="fail">
                    <label for="status-fail">No aprobado - Reportar a mantenimiento</label>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">Firma del Operador</div>
            <p>Certifico que he realizado esta inspección y que toda la información proporcionada es correcta.</p>
            <div id="signature-pad" class="signature-pad">
                <canvas id="signature-canvas" width="400" height="150"></canvas>
            </div>
            <button id="clear-signature" class="signature-clear">Limpiar Firma</button>
        </div>

        <div class="form-footer no-print">
            <button id="submit-btn">Guardar Checklist</button>
            <button id="print-btn">Imprimir Checklist</button>
            <button id="reset-btn">Limpiar Formulario</button>
        </div>

        <div class="print-only">
            <p>Documento generado el: <span id="print-date"></span></p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Set current date
            const today = new Date();
            document.getElementById('date').valueAsDate = today;

            // Checkbox toggle for OK/FAIL
            const checkboxes = document.querySelectorAll('.check-ok');
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const statusBadge = this.parentElement.querySelector('.status-badge');
                    if (this.checked) {
                        statusBadge.textContent = 'OK';
                        statusBadge.className = 'status-badge status-ok';
                    } else {
                        statusBadge.textContent = 'FALLA';
                        statusBadge.className = 'status-badge status-fail';
                    }
                });
            });

            // Signature pad
            const canvas = document.getElementById('signature-canvas');
            const ctx = canvas.getContext('2d');
            let isDrawing = false;
            let lastX = 0;
            let lastY = 0;

            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);

            // Touch support
            canvas.addEventListener('touchstart', handleTouchStart);
            canvas.addEventListener('touchmove', handleTouchMove);
            canvas.addEventListener('touchend', handleTouchEnd);

            document.getElementById('clear-signature').addEventListener('click', clearSignature);

            function startDrawing(e) {
                isDrawing = true;
                [lastX, lastY] = getCoordinates(e);
            }

            function draw(e) {
                if (!isDrawing) return;
                
                ctx.beginPath();
                ctx.moveTo(lastX, lastY);
                [lastX, lastY] = getCoordinates(e);
                ctx.lineTo(lastX, lastY);
                ctx.strokeStyle = '#000';
                ctx.lineWidth = 2;
                ctx.lineJoin = 'round';
                ctx.lineCap = 'round';
                ctx.stroke();
            }

            function stopDrawing() {
                isDrawing = false;
            }

            function clearSignature() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
            }

            function getCoordinates(e) {
                let x, y;
                if (e.type.includes('touch')) {
                    const rect = canvas.getBoundingClientRect();
                    x = e.touches[0].clientX - rect.left;
                    y = e.touches[0].clientY - rect.top;
                } else {
                    x = e.offsetX;
                    y = e.offsetY;
                }
                return [x, y];
            }

            function handleTouchStart(e) {
                e.preventDefault();
                startDrawing(e.touches[0]);
            }

            function handleTouchMove(e) {
                e.preventDefault();
                draw(e.touches[0]);
            }

            function handleTouchEnd(e) {
                e.preventDefault();
                stopDrawing();
            }

            // Form submission
            document.getElementById('submit-btn').addEventListener('click', function() {
                // Validate form
                const requiredFields = ['operator-name', 'operator-id', 'date', 'shift', 'equipment-id', 'hours'];
                let isValid = true;
                
                requiredFields.forEach(fieldId => {
                    const field = document.getElementById(fieldId);
                    if (!field.value) {
                        field.style.borderColor = 'red';
                        isValid = false;
                    } else {
                        field.style.borderColor = '#ddd';
                    }
                });

                if (!document.querySelector('input[name="final-status"]:checked')) {
                    alert('Por favor seleccione el estado final del equipo');
                    isValid = false;
                }

                if (isValid) {
                    // Here you would typically send data to server
                    alert('Checklist guardado correctamente');
